<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="MobileApplication.Maui.Pages.WeatherPage"
    Title="Weather"
    BackgroundColor="#F3F4F6">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20" HorizontalOptions="Center">

            <!-- Header -->
            <Label Text="Weather"
                   FontSize="28"
                   FontAttributes="Bold"
                   TextColor="#7C3AED"
                   HorizontalOptions="Center" />

            <!-- Location and Date -->
            <Frame BackgroundColor="White" CornerRadius="12" Padding="16" HasShadow="True">
                <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
                    <HorizontalStackLayout Spacing="10">
                        <Label x:Name="CityLabel"
                               Text="City"
                               FontSize="20"
                               FontAttributes="Bold"
                               TextColor="#4B5563" />
                        <Label x:Name="DateLabel"
                               Text="Date"
                               FontSize="16"
                               TextColor="#6B7280"
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>

                    <HorizontalStackLayout Spacing="16" HorizontalOptions="Center">
                        <Label x:Name="TemperatureLabel"
                               Text="--°"
                               FontSize="64"
                               FontAttributes="Bold"
                               TextColor="#111827" />
                        <Image x:Name="WeatherIcon"
                               Source="weather_placeholder.png"
                               WidthRequest="64"
                               HeightRequest="48"
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>

                    <Label x:Name="ConditionLabel"
                           Text="Loading..."
                           FontSize="22"
                           TextColor="#7C3AED"
                           HorizontalOptions="Center"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Extra weather info -->
            <Frame BackgroundColor="White" CornerRadius="12" Padding="16" HasShadow="True">
                <VerticalStackLayout Spacing="6">
                    <Label x:Name="LowLabel" Text="Low --°" FontSize="16" TextColor="#4B5563"/>
                    <Label x:Name="HighLabel" Text="High --°" FontSize="16" TextColor="#4B5563"/>
                    <Label x:Name="WindLabel" Text="Wind --kph / --" FontSize="16" TextColor="#4B5563"/>
                    <Label x:Name="RainChanceLabel" Text="Chance of Rain --%" FontSize="16" TextColor="#4B5563"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Forecast Title -->
            <Label Text="Next 3 Days"
                   FontSize="22"
                   FontAttributes="Bold"
                   TextColor="#7C3AED"
                   HorizontalOptions="Center" />
            
            <CollectionView x:Name="ForecastCollection">
                <CollectionView.ItemsLayout>
                    <LinearItemsLayout Orientation="Vertical" ItemSpacing="20" />
                </CollectionView.ItemsLayout>
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BackgroundColor="White"
                               CornerRadius="0"
                               Padding="12"
                               HasShadow="False">
                            <Grid ColumnSpacing="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Label Text="{Binding Date}"
                                       FontSize="18"
                                       TextColor="#4B5563" />
                                <Label Grid.Column="1"
                                       Text="{Binding Summary}"
                                       FontSize="18"
                                       TextColor="#6B7280"
                                       HorizontalTextAlignment="End" />
                            </Grid>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>


        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
